##### 方向： 李玉堂学长的“简单”虚拟机

##### 测试环境：CLion 2019.2 ，win10

##### 语言：C++

##### 实现功能：

​	1.Level 1 实现一个简易的虚拟机。

​	2.Level 2 提升。

​	3.Level 3 附加功能中的其他计算功能（按位异或，按位与，按位非），模拟内存（？不知道算不算）。

##### 介绍：

​	1.虚拟机功能：运行和调试。(调试即为打印程序运行时指令调用顺序和数据流向)

​	2.虚拟机指令：

| 指令   | 功能描述                                                     |
| :----- | ------------------------------------------------------------ |
| HEL    | 程序结束标志                                                 |
| PUT    | 数据存储：接受两个数据，第一个判断数据来源，若为外部，则第二个为输入个数并依次存入寄存器中。若为内部，则将第二个数值存入寄存器中。 |
| MOV    | 数据交换：接受两个数据，分别为需要交换数据所在寄存器的名称   |
| ADD    | 第零个寄存器(axi)和第一个寄存器(bxi)相加，并存入第零个寄存器(axi) |
| SUB    | 第零个寄存器(axi)和第一个寄存器(bxi)相减，并存入第零个寄存器(axi) |
| DIV    | 第零个寄存器(axi)和第一个寄存器(bxi)相除，并存入第零个寄存器(axi) |
| MUL    | 第零个寄存器(axi)和第一个寄存器(bxi)相乘，并存入第零个寄存器(axi) |
| XOR    | 第零个寄存器(axi)和第一个寄存器(bxi)相按位异或，并存入第零个寄存器(axi) |
| OR     | 第零个寄存器(axi)和第一个寄存器(bxi)相按位或，并存入第零个寄存器(axi) |
| AND    | 第零个寄存器(axi)和第一个寄存器(bxi)相按位与，并存入第零个寄存器(axi) |
| CJP    | 条件跳转：接受三个数据，第一个为待比较值所在寄存器的名称，第二个值为固定的比较值，第三个为跳转长度 |
| JMP    | 无条件跳转：接受一个数据，数据为跳转长度。                   |
| OUT    | 输出：接受一个数据，数据为输出数据所在的寄存器名字           |
| inst_c | 计数，不做指令集，增加指令集请在上面增加                     |

#### 跳转长度计算：
##### 无论是条件跳转还是无条件跳转，都以 跳转长度的数据的所在位置 为基础，计算与目标指令之间的间隔数再加上2即为跳转长度。

例如：

```
JMP , 7 ,
CJP , cxi , 38 , 5 ,
AND ,
OUT , axi ,
HEL
```

无条件跳转长度的数据 *7* 与目标指令 *OUT* 之间间隔 *CJP  cxi  38  5 AND* 这5个指令数据，那么，无条件跳转长度即为 5+2=7.

同理跳转长度的数据 *5* 与目标指令 *HEL* 之间间隔 *AND OUT  axi* 这3个指令数据，那么，条件跳转长度即为 3+2=5.

##### 已知缺陷：不能输出字符，不能中断程序运行。